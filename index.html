<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Strona Gejzera - Notatnik v2.0</title>
    <style>
        body {
            /* WARSTWA 1: STATYCZNE TŁO */
            background-color: #008080; /* Klasyczny morski kolor jako baza */
            /* Przywrócona tekstura: */
            background-image: url('https://www.transparenttextures.com/patterns/black-scales.png');
            background-repeat: repeat; /* Powtarzanie tekstury */
            
            font-family: "Courier New", Courier, monospace;
            color: black;
            margin: 0;
            overflow-x: hidden; /* Ukrywa poziomy pasek przewijania */
        }

        /* --- WARSTWA 2: LATAJĄCY GEJZER --- */
        .background-marquee {
            position: fixed; /* Przyklejony do ekranu */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            /* z-index -1 sprawia, że jest nad tłem body, ale pod notatn`ikiem */
            z-index: 1; 
            display: flex;
            align-items: center; /* Wyśrodkowuje w pionie */
            pointer-events: none; /* Kliknięcia przelatują na wylot */
        }

        .background-marquee marquee {
            width: 100%;
        }

        .background-marquee img {
            height: 180px; /* Trochę większy */
            width: auto;
            /* Przezroczystość jest ważna, żeby tło statyczne przebijało */
            opacity: 0.7; 
        }
        /* ------------------------------------ */

        /* --- WARSTWA 3: GŁÓWNA ZAWARTOŚĆ --- */
        .main-wrapper {
             padding: 20px;
             position: relative;
             /* z-index 10 (lub cokolwiek > 0) zapewnia, że to jest na samym wierzchu */
             z-index: 10;
        }

        /* STYLE NOTATNIKA (bez zmian) */
        .main-container {
            width: 600px;
            margin: 0 auto;
            background-color: #c0c0c0;
            border: 3px solid #dfdfdf;
            border-right-color: #404040;
            border-bottom-color: #404040;
            box-shadow: 5px 5px 0px #000;
        }

        .title-bar {
            background: linear-gradient(90deg, #000080, #1084d0);
            color: white;
            padding: 4px;
            font-family: sans-serif;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .window-controls button {
            background: #c0c0c0;
            border: 1px outset #fff;
            font-weight: bold;
            font-size: 10px;
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .content {
            padding: 15px;
            text-align: center;
        }

        h1 {
            font-family: "Comic Sans MS", cursive, sans-serif;
            color: #ff0000;
            text-shadow: 2px 2px #ffff00;
            margin-top: 0;
        }

        textarea {
            width: 90%;
            height: 150px;
            border: 2px inset #fff;
            background-color: #fff;
            font-family: "Courier New", monospace;
            font-size: 14px;
            padding: 5px;
            resize: none;
        }

        .retro-btn {
            background-color: #c0c0c0;
            border: 2px outset #fff;
            padding: 5px 20px;
            margin-top: 10px;
            font-weight: bold;
            cursor: pointer;
            font-family: sans-serif;
        }

        .retro-btn:active {
            border: 2px inset #fff;
        }

        .saved-list {
            text-align: left;
            margin-top: 20px;
            border: 2px inset #fff;
            background: #fff;
            height: 200px;
            overflow-y: scroll;
            padding: 10px;
        }

        .note-item {
            border-bottom: 1px dashed black;
            padding: 5px 0;
            display: flex;
            justify-content: space-between;
        }

        .delete-x {
            color: red;
            cursor: pointer;
            font-weight: bold;
            margin-left: 10px;
        }

        marquee.top-banner {
            background-color: black;
            color: lime;
            border: 1px solid lime;
            font-family: monospace;
            margin-bottom: 10px;
        }

        .footer {
            font-size: 10px;
            margin-top: 10px;
            text-align: center;
            background-color: #c0c0c0; /* Dodane tło pod stopkę dla czytelności */
            padding: 5px;
            border: 1px solid black;
        }
    </style>
</head>
<body>

    <div class="background-marquee">
        <marquee direction="right" scrollamount="100" behavior="scroll">
            <img src="gejzer.png" alt="Latający Gejzer">
        </marquee>
    </div>

    <div class="main-wrapper">
        <marquee class="top-banner" scrollamount="5">Gejzer</marquee>

        <div class="main-container">
            <div class="title-bar">
                <span>Notatnik_Gejzera</span>
                <div class="window-controls">
                    <button>_</button>
                    <button>[]</button>
                    <button>X</button>
                </div>
            </div>

            <div class="content">
                <h1>GEJZER</h1>
                <p>Wpisz coś poniżej:</p>
                
                <textarea id="noteInput" placeholder="Kliknij tutaj, aby pisać..."></textarea>
                <br>
                <button class="retro-btn" onclick="addNote()">>>> ZAPISZ <<<</button>

                <p><strong>Twoje zapisane wpisy:</strong></p>
                <div class="saved-list" id="notesContainer">
                    </div>
            </div>
        </div>

         <div class="footer">
            Licznik odwiedzin: 048291<br>
            &copy; 1999 Gejzer Design. Best viewed in Internet Explorer 5.0
        </div>
    </div>

    <script>
        // (Skrypt bez zmian)
        document.addEventListener('DOMContentLoaded', loadNotes);

        function addNote() {
            const input = document.getElementById('noteInput');
            const noteText = input.value;

            if (noteText.trim() === "") {
                alert("Błąd systemu: Nie wpisałeś niczego!");
                return;
            }
            let notes = JSON.parse(localStorage.getItem('gejzerNotes')) || [];
            const now = new Date();
            const dateStr = now.toLocaleTimeString();
            notes.push({ text: noteText, date: dateStr });
            localStorage.setItem('gejzerNotes', JSON.stringify(notes));
            input.value = "";
            renderNotes();
        }

        function deleteNote(index) {
            let notes = JSON.parse(localStorage.getItem('gejzerNotes')) || [];
            notes.splice(index, 1);
            localStorage.setItem('gejzerNotes', JSON.stringify(notes));
            renderNotes();
        }

        function loadNotes() {
            renderNotes();
        }

        function renderNotes() {
            const container = document.getElementById('notesContainer');
            const notes = JSON.parse(localStorage.getItem('gejzerNotes')) || [];
            container.innerHTML = "";
            notes.forEach((note, index) => {
                const div = document.createElement('div');
                div.className = 'note-item';
                div.innerHTML = `
                    <span>[${note.date}] ${note.text}</span>
                    <span class="delete-x" onclick="deleteNote(${index})">[USUŃ]</span>
                `;
                container.prepend(div);
            });
        }
    </script>

</body>
</html>